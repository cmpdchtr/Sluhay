#!/bin/bash
# ะกะบัะธะฟั ะดะปั ะฝะฐะปะฐัััะฒะฐะฝะฝั ะฑะพัะฐ ะฝะฐ Linux ัะตัะฒะตัั

echo "๐ ะะฐะปะฐัััะฒะฐะฝะฝั ะฑะพัะฐ Sluhay ะฝะฐ ัะตัะฒะตัั..."

# ะะฝะพะฒะปััะผะพ ัะธััะตะผั
echo "๐ฆ ะะฝะพะฒะปะตะฝะฝั ัะธััะตะผะธ..."
sudo apt update && sudo apt upgrade -y

# ะััะฐะฝะพะฒะปััะผะพ Python ัะฐ pip
echo "๐ ะััะฐะฝะพะฒะปะตะฝะฝั Python 3..."
sudo apt install python3 python3-pip python3-venv -y

# ะััะฐะฝะพะฒะปััะผะพ FFmpeg
echo "๐ฌ ะััะฐะฝะพะฒะปะตะฝะฝั FFmpeg..."
sudo apt install ffmpeg -y

# ะกัะฒะพัััะผะพ ะฒััััะฐะปัะฝะต ัะตัะตะดะพะฒะธัะต
echo "๐ ะกัะฒะพัะตะฝะฝั ะฒััััะฐะปัะฝะพะณะพ ัะตัะตะดะพะฒะธัะฐ..."
python3 -m venv venv
source venv/bin/activate

# ะััะฐะฝะพะฒะปััะผะพ ะทะฐะปะตะถะฝะพััั
echo "๐ ะััะฐะฝะพะฒะปะตะฝะฝั ะทะฐะปะตะถะฝะพััะตะน..."
pip install --upgrade pip
pip install -r requirements.txt

# ะะฝะพะฒะปััะผะพ yt-dlp ะดะพ ะพััะฐะฝะฝัะพั ะฒะตัััั
echo "โฌ๏ธ ะะฝะพะฒะปะตะฝะฝั yt-dlp..."
pip install -U yt-dlp

# ะะตัะตะฒััััะผะพ ะฝะฐะปะฐัััะฒะฐะฝะฝั
echo ""
echo "โ ะะฐะปะฐัััะฒะฐะฝะฝั ะทะฐะฒะตััะตะฝะพ!"
echo ""
echo "๐ ะะฐัััะฟะฝั ะบัะพะบะธ:"
echo "1. ะกัะฒะพัััั ัะฐะนะป .env ะท ัะพะบะตะฝะฐะผะธ (ัะบะพะฟััะนัะต ะท .env.example)"
echo "2. ะะฐะฟัััััั ัะตัั: python3 test_youtube.py"
echo "3. ะะฐะฟัััััั ะฑะพัะฐ: python3 main.py"
echo ""
echo "๐ก ะะปั ะทะฐะฟััะบั ะฒ ัะพะฝั ะฒะธะบะพัะธััะพะฒัะนัะต:"
echo "   nohup python3 main.py > bot.log 2>&1 &"
echo ""
echo "๐ ะะปั ะฟะตัะตะณะปัะดั ะปะพะณัะฒ:"
echo "   tail -f bot.log"
